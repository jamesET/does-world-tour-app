<ion-view view-title="Beer Browser">
  <ion-content class="main-bg">

    <div id="addBeer" ng-show="auth.isAdmin()" class="row">
      <div class="col text-right main-bg">
      <button class="button button-block button-stable" ng-click="openModal()">
        Add Beer
      </button>
      </div>
    </div>

    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="refresh()">
    </ion-refresher>

    <ion-list>
        <ion-item
          ng-repeat="beer in allBeers | filter: searchText"
          ng-show="showBeer(beer)"
          ng-class="{
            'item-beer item-text-wrap' : true,
            'item-beer-out' : beer.outOfStock,
            'item-beer-discontinued' : beer.discontinued
          }">
          <div class="row">
              <div class="col col-66">
                <span ng-show="beer.outOfStock">Temporarily Out of Stock<br></span>
                <span ng-show="beer.discontinued">DISCONTINUED<br></span>
                <b>{{beer.name}}</b><br>
                {{beer.brewery}}<br>
                {{beer.country}} {{beer.region}}
              </div>
              <div class="col col-33">{{beer.style}}<br>
                {{beer.abv}}% abv<br>
                {{beer.oz}} oz
              </div>
          </div>
          <ion-option-button ng-show="auth.isAdmin()" class="button-stable button-large" ng-click="openModal(beer)">Edit</ion-option-button>
        </ion-item>
    </ion-list>
  </ion-content>

  <ion-footer-bar class="bar bar-footer item-input-inset" keyboard-attach>
    <label class="item-input-wrapper">
      <i class="icon ion-ios-search placeholder-icon"></i>
      <input type="search" ng-model="searchText" placeholder="Search">
    </label>
  </ion-footer-bar>

</ion-view>
